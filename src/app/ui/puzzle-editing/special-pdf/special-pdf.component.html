<div class="row">
    <div class="col">
        <h3>Open puzzle from PDF</h3>
    </div>
</div>

<app-info-panel>
    <p>
        You can load puzzles from a PDF document here.
    </p>
    <p>
        To open a puzzle in a PDF file you must first download the PDF to a file on your computer. 
        If the PDF is laid out in fairly typical way, say that used in the Guardian for the FT,
        then the app should be able to automatically extract both the grid and clues form the text.
    </p>
</app-info-panel>


<div class="row">
    <div class="col">
        <form [formGroup]="form" class="mt-3">

            <div class="">
                <input #file class="form-control" type="file" accept=".pdf" formControlName="file" (change)="onFileChange(file.files)">
                <label for="fileInput" class="form-label">Choose a PDF file</label>
            </div>

            <div class="form-group mt-3">
                <label>
                    <input type="checkbox" formControlName="advancedOptions">
                    show advanced options
                </label>
            </div>

            <div [ngStyle]="{display: (form.value.advancedOptions ? 'block' : 'none')}">
                <div class="form-group">
                    <label for="gridPage" class="form-label">Grid will be found on page number</label>
                    <input id="gridPage" class="form-control" type="number" min="1" max="100" step="1" formControlName="gridPage">
                </div>
    
                <div class="form-group">
                    <label for="textPage" class="form-label">Text for the clues will be found on page number</label>
                    <input id="textPage" class="form-control" type="number" min="1" max="100" step="1" formControlName="textPage">
                </div>

                <div class="mt-3">
                    <app-provision-options-control formControlName="provisionOptions"></app-provision-options-control>
                </div>

            </div>

            <div class="form-group mt-5">
                <button class="btn btn-primary" type="button" (click)="onOpenPdf()" [disabled]="!form.valid">Open PDF</button>
            </div>
        </form>
    </div>
</div>
